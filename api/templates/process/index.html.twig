{% extends "base.html.twig" %}

{% block content %}


    <div class="row">
        <div class="col-md-12">
            <div class="content-background" >
            	<div class="content">
                        {% if processes is defined and processes is not empty %}
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th scope="col">{{ 'name'|trans|capitalize }}</th>
                            <th scope="col">{{ 'description'|trans|capitalize }}</th>
                            <th scope="col"></th>
                        </tr>
                        </thead>
                        <tbody>

                        {% for resource in processes %}
                            {% if resource.audience is defined and resource.audience is not empty %}
                                {% if app.user.type is defined and app.user is not empty and app.user.type in resource.audience %}
                                    <tr>
                                        <td style="width: fit-content">{{ resource.name|capitalize }}</td>
                                        <td>{% if resource.dateCreated is defined and resource.dateCreated is not null %}{{ resource.description }}{% endif %}</td>
                                        <td><a style="background: #cfebfd; padding: 6px; border-radius: 6px" href="{{ path('app_process_start', {id: resource.id}) }}"><b>{{ 'start'|trans|capitalize }}</b></a></td>
                                    </tr>
                                {% endif %}
                            {% else %}
                                <tr>
                                    <td style="width: fit-content">{{ resource.name|capitalize }}</td>
                                    <td>{% if resource.dateCreated is defined and resource.dateCreated is not null %}{{ resource.description }}{% endif %}</td>
                                    <td><a style="background: #cfebfd; padding: 6px; border-radius: 6px" href="{{ path('app_process_start', {id: resource.id}) }}"><b>{{ 'start'|trans|capitalize }}</b></a></td>
                                </tr>
                            {% endif %}
                        {% endfor %}
{#                        <tr>#}
{#                            <td>Initiatief</td>#}
{#                            <td>Via dit formulier kunt u een initiatief starten</td>#}
{#                            <td><a style="background: #cfebfd; padding: 6px; border-radius: 6px" href="{{ path('app_tender_newpitch') }}"><b>{{ 'start'|trans|capitalize }}</b></a></td>#}
{#                        </tr>#}
                        </tbody>
                    </table>

                        {% else %}
                        <h1>Er zijn geen processen</h1>
                        {% endif %}
                </div><!-- /.content -->
            </div><!-- /.content-background -->
        </div><!-- /.col -->
    </div>

{#<div class="row">#}
{#        <div class="col-md-12">#}
{#            <h2> Uitgelicht</h2>#}
{#            <ul class="list list--card">#}
{#                <li class="card">#}
{#                    <a href="{{ path('app_challenge_index') }}" class="card__content">#}
{#                        <div class="card__thumb" style="background-image: url('https://picsum.photos/200')"></div>#}
{#                        <div class="card__body">#}
{#                            <span class="card__title">Challenges</span>#}
{#                            Bekijk challanges en beloningen vanuit de overheid#}
{#                        </div>#}
{#                    </a>#}
{#                </li>#}
{#                <li class="card">#}
{#                    <a href="{{ path('app_pitch_index') }}" class="card__content">#}
{#                        <div class="card__thumb" style="background-image: url('https://picsum.photos/200')"></div>#}
{#                        <div class="card__body">#}
{#                        	<span class="card__title">Pitches</span>#}
{#                        	Bekijk goede ideÃ«n vanuit de communitys#}
{#                        </div>#}
{#                    </a>#}
{#                </li>#}
{#                <li class="card">#}
{#                    <a href="{{ path('app_news_index') }}" class="card__content">#}
{#                        <div class="card__thumb" style="background-image: url('https://picsum.photos/200')"></div>#}
{#                        <div class="card__body">#}
{#                        	<span class="card__title">Nieuws</span>#}
{#                        	Volg het laatste nieuws#}
{#                        </div>#}
{#                    </a>#}
{#                </li>#}
{#            </ul>#}
{#        </div>#}
{#    </div>#}

    <script>
        /* Load collapse component */
        System.import('/uno/components/collapse/collapse.js').then(function (module) {

            /* Select all collapsible elements on the page */
            var elements = document.querySelectorAll('main [x-uno-collapse]');

            /* Initialize all collapses */
            for (var i = 0; i < elements.length; i++) {
                new module.Collapse(elements.item(i));
            }
        });

    </script>

{% endblock %}
